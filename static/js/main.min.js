function getCookie(a){var b=null;if(document.cookie&&""!=document.cookie)for(var c=document.cookie.split(";"),d=0;d<c.length;d++){var e=jQuery.trim(c[d]);if(e.substring(0,a.length+1)==a+"="){b=decodeURIComponent(e.substring(a.length+1));break}}return b}function csrfSafeMethod(a){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(a)}function sameOrigin(a){var b=document.location.host,c=document.location.protocol,d="//"+b,e=c+d;return a==e||a.slice(0,e.length+1)==e+"/"||a==d||a.slice(0,d.length+1)==d+"/"||!/^(\/\/|http:|https:).*/.test(a)}var csrftoken=getCookie("csrftoken");$.ajaxSetup({beforeSend:function(a,b){!csrfSafeMethod(b.type)&&sameOrigin(b.url)&&a.setRequestHeader("X-CSRFToken",csrftoken)}});var Main=function(){function a(){WeddingForm.init(),WeddingMaps.init()}return{init:a}}(),WeddingForm=function(){function a(){var a=$("#frmRSVP");a[0].reset(),a.on("change","input[name=rdoAttending]",function(){b()}),$("#frmRSVP").submit(function(){var a=$(this);return $(".error",a).removeClass("error"),"undefined"==typeof $("input[name=rdoAttending]:checked","#frmRSVP").val()?($("#rdoAttending").parent().addClass("error"),!1):""===$("#txtNames").val()?($("#txtNames").parent().addClass("error"),!1):($.post(a.attr("action"),a.serialize(),function(){alert("Thanks! Your RSVP has been saved."),a[0].reset(),b()}),!1)}),b()}function b(){$("#frmRSVP");"yes"==$("input[name=rdoAttending]:checked","#frmRSVP").val()?($("#namesLabel").html("Please enter the full names of attendees:"),$("#namesField").slideDown(),$("#dietField").slideDown(),$("#submitRSVP").slideDown()):"no"==$("input[name=rdoAttending]:checked","#frmRSVP").val()?($("#namesLabel").html("Please enter your name:"),$("#namesField").slideDown(),$("#dietField").slideUp(),$("#submitRSVP").slideDown()):($("#namesField").slideUp(),$("#dietField").slideUp(),$("#submitRSVP").slideUp())}return{init:a}}(),WeddingMaps=function(){function a(){var a={center:new google.maps.LatLng(43.643319,-79.421981),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP},b=new google.maps.Map(document.getElementById("mapCanvas"),a),c=[{stylers:[{saturation:-50}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]}];b.setOptions({styles:c});var d=new google.maps.Marker({position:new google.maps.LatLng(43.643374,-79.422101),map:b,title:"The Great Hall",icon:"/static/img/heart-small.png"}),e=new google.maps.InfoWindow({content:'<div style="width:300px;"><h4>The Great Hall</h4><img style="width:200px;" src="/static/img/great-hall-street.jpg"><p>1087 Queen St W<br>647 341 5526<br><a href="http://www.thegreathall.ca" target="_blank">thegreathall.ca</a></p></div>'});google.maps.event.addListener(d,"click",function(){e.open(b,d)})}return{init:a}}();